(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.en=r,this.name=e,this.ru=n}var n,r;return n=t,(r=[{key:"generateButton",value:function(){var e=document.createElement("button");return e.className="key key-k",e.setAttribute("data","".concat(this.name)),"ru"===localStorage.getItem("lang")?e.innerHTML="".concat(this.ru):e.innerHTML="".concat(this.en),e}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(s,e);var t,n,c,f,l=(c=s,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(c);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return i(this,e)});function s(){return r(this,s),l.apply(this,arguments)}return t=s,(n=[{key:"generateControlButton",value:function(){var e=document.createElement("button");return e.className="key key-control",e.innerHTML="".concat(this.ru),e.setAttribute("data","".concat(this.name)),"Backspace"===this.name||"CapsLock"===this.name||"Enter"===this.name||"ShiftLeft"===this.name||"ShiftRight"===this.name||"Enter"===this.code?e.classList.add("key-wide"):"Tab"===this.name||"Delete"===this.name||"ControlLeft"===this.name||"ControlRight"===this.name||"Win"===this.name?e.classList.add("key-wide2"):"Space"===this.name&&e.classList.add("space"),e}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t,n){var r=document.createElement("".concat(e));return r.className=t,r.textContent=n,r},m=document.querySelector("body"),y=s("div","wrap"),h=s("h1","h1","Виртуальная клавиатура"),p=s("textarea","textarea"),d=s("div","keyboard_wrap"),v=s("div","keyboard"),S=s("div","notes"),b=s("p","note-text","Клавиатура создана в операционной системе Windows"),g=s("p","note-text","Комбинация для переключения языка: левыe ctrl + alt");window.addEventListener("DOMContentLoaded",(function(){p.focus()})),m.append(y),y.append(h),y.append(p),y.append(d),d.append(v),y.append(S),S.append(b),S.append(g);var w,A=["Backspace","Tab","Delete","CapsLock","Enter","ShiftLeft","ShiftRight","ControlLeft","Win","AltLeft","Space","AltRight","ArrowUp","ArrowLeft","ArrowDown","ArrowRight","ControlRight"];w=v,[{name:"Backquote",ru:"ё",en:"`",ruShift:"~",enShift:"~"},{name:"Digit1",ru:"1",en:"1",ruShift:"!",enShift:"!"},{name:"Digit2",ru:"2",en:"2",ruShift:'"',enShift:"@"},{name:"Digit3",ru:"3",en:"3",ruShift:"№",enShift:"#"},{name:"Digit4",ru:"4",en:"4",ruShift:";",enShift:"$"},{name:"Digit5",ru:"5",en:"5",ruShift:"%",enShift:"%"},{name:"Digit6",ru:"6",en:"6",ruShift:":",enShift:"^"},{name:"Digit7",ru:"7",en:"7",ruShift:"?",enShift:"&"},{name:"Digit8",ru:"8",en:"8",ruShift:"*",enShift:"*"},{name:"Digit9",ru:"9",en:"9",ruShift:"(",enShift:"("},{name:"Digit0",ru:"0",en:"0",ruShift:")",enShift:")"},{name:"Minus",ru:"-",en:"-",ruShift:"_",enShift:"_"},{name:"Equal",ru:"=",en:"=",ruShift:"+",enShift:"+"},{name:"Backspace",ru:"Backspace",en:"Backspace"},{name:"Tab",ru:"Tab",en:"Tab"},{name:"KeyQ",ru:"й",en:"q"},{name:"KeyW",ru:"ц",en:"w"},{name:"KeyE",ru:"у",en:"e"},{name:"KeyR",ru:"к",en:"r"},{name:"KeyT",ru:"е",en:"t"},{name:"KeyY",ru:"н",en:"y"},{name:"KeyU",ru:"г",en:"u"},{name:"KeyI",ru:"ш",en:"i"},{name:"KeyO",ru:"щ",en:"o"},{name:"KeyP",ru:"з",en:"p"},{name:"BracketLeft",ru:"х",en:"[",enShift:"{"},{name:"BracketRight",ru:"ъ",en:"]",enShift:"}"},{name:"Backslash",ru:"\\",en:"\\",ruShift:"/",enShift:"|"},{name:"Delete",ru:"Del",en:"Del"},{name:"CapsLock",ru:"CapsLock",en:"CapsLock"},{name:"KeyA",ru:"ф",en:"a"},{name:"KeyS",ru:"ы",en:"s"},{name:"KeyD",ru:"в",en:"d"},{name:"KeyF",ru:"а",en:"f"},{name:"KeyG",ru:"п",en:"g"},{name:"KeyH",ru:"р",en:"h"},{name:"KeyJ",ru:"о",en:"j"},{name:"KeyK",ru:"л",en:"k"},{name:"KeyL",ru:"д",en:"l"},{name:"Semicolon",ru:"ж",en:";",enShift:":"},{name:"Quote",ru:"э",en:"''",enShift:'"'},{name:"Enter",ru:"Enter",en:"Enter"},{name:"ShiftLeft",ru:"Shift",en:"Shift"},{name:"KeyZ",ru:"я",en:"z"},{name:"KeyX",ru:"ч",en:"x"},{name:"KeyC",ru:"с",en:"c"},{name:"KeyV",ru:"м",en:"v"},{name:"KeyB",ru:"и",en:"b"},{name:"KeyN",ru:"т",en:"n"},{name:"KeyM",ru:"ь",en:"m"},{name:"Comma",ru:"б",en:",",enShift:"<"},{name:"Period",ru:"ю",en:".",enShift:">"},{name:"Slash",ru:".",en:"/",ruShift:",",enShift:"?"},{name:"ArrowUp",ru:"&#8593;",en:"&#8593;"},{name:"ShiftRight",ru:"Shift",en:"Shift"},{name:"ControlLeft",ru:"Ctrl",en:"Ctrl"},{name:"Win",ru:"Win"},{name:"AltLeft",ru:"Alt",en:"Alt"},{name:"Space",ru:"",en:""},{name:"AltRight",ru:"Alt",en:"Alt"},{name:"ArrowLeft",ru:"&#8592;",en:"&#8592;"},{name:"ArrowDown",ru:"&#8595;",en:"&#8595;"},{name:"ArrowRight",ru:"&#8594;",en:"&#8594;"},{name:"ControlRight",ru:"Ctrl",en:"Ctrl"}].forEach((function(e){var n;return A.includes(e.name)?(n=new c(e.name,e.ru),w.append(n.generateControlButton())):(n=new t(e.name,e.ru,e.en),w.append(n.generateButton())),w}));var k=function(e,t){if(t.focus(),"Backspace"===e.getAttribute("data"))t.setRangeText("",t.selectionStart-1,t.selectionEnd);else if("Delete"===e.getAttribute("data"))t.setRangeText("",t.selectionStart,t.selectionEnd+1);else if("Enter"===e.getAttribute("data"))t.value+="\n";else if("Tab"===e.getAttribute("data"))t.value+="\t";else if("Space"===e.getAttribute("data"))t.value+=" ";else{if("CapsLock"===e.getAttribute("data"))return t.value;t.value+=e.innerHTML}return t.value};document.addEventListener("keydown",(function(e){e.preventDefault();var t,n=f(document.querySelectorAll(".key"));try{for(n.s();!(t=n.n()).done;){var r=t.value;console.log("клавиша нажата ",e.key),e.code===r.getAttribute("data")&&(k(r,p),r.classList.add("active"))}}catch(e){n.e(e)}finally{n.f()}})),document.addEventListener("keyup",(function(e){e.preventDefault();var t,n=f(document.querySelectorAll(".key"));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.code===r.getAttribute("data")&&r.classList.remove("active")}}catch(e){n.e(e)}finally{n.f()}})),v.addEventListener("mousedown",(function(e){var t,n=f(document.querySelectorAll(".key"));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.target.getAttribute("data")===r.getAttribute("data")&&(r.classList.add("active"),k(r,p))}}catch(e){n.e(e)}finally{n.f()}})),v.addEventListener("mouseup",(function(e){var t,n=f(document.querySelectorAll(".key"));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.target.getAttribute("data")===r.getAttribute("data")&&r.classList.remove("active")}}catch(e){n.e(e)}finally{n.f()}}))})();
//# sourceMappingURL=main.js.map